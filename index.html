<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>HIITGO 💪</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- 🧠 ÍCONE DO SITE (favicon) -->
  <link rel="icon" href="favicon.ico" type="image/x-icon">

  <!-- 🎨 Estilo -->
  <link rel="stylesheet" href="style.css">

  <!-- 🧩 Ícones do Google -->
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />

  <!-- ⚙️ Script principal -->
  <script defer>
    let nomeUsuario = "";

    document.addEventListener("DOMContentLoaded", () => {
      // Alternância de abas
      const tabButtons = document.querySelectorAll('.tab-button');
      const tabContents = document.querySelectorAll('.tab-content');

      tabButtons.forEach(button => {
        button.addEventListener('click', () => {
          const target = button.getAttribute('data-tab');
          tabButtons.forEach(btn => btn.classList.remove('active'));
          tabContents.forEach(content => content.classList.remove('active'));
          button.classList.add('active');
          document.getElementById(target).classList.add('active');
        });
      });

      // Alternância de tema
      const botaoTema = document.getElementById("toggle-tema");
      const iconeTema = document.getElementById("icone-tema");

      if (localStorage.getItem("tema") === "escuro") {
        document.body.classList.add("dark-mode");
        iconeTema.textContent = "light_mode";
      }

      botaoTema.addEventListener("click", () => {
        const modoEscuroAtivo = document.body.classList.toggle("dark-mode");
        iconeTema.textContent = modoEscuroAtivo ? "light_mode" : "dark_mode";
        localStorage.setItem("tema", modoEscuroAtivo ? "escuro" : "claro");
      });

      // Entrada do nome e ocultar tela de boas-vindas
      document.getElementById("entrar-app").addEventListener("click", () => {
        const input = document.getElementById("nome-usuario");
        nomeUsuario = input.value.trim();

        if (!nomeUsuario) {
          alert("Por favor, digite seu nome para começar.");
          return;
        }

        document.getElementById("boas-vindas").classList.add("fade-out");
      });

      // Função global para mensagem final
      window.mensagemFinal = function(texto) {
        return nomeUsuario ? `Parabéns, ${nomeUsuario}! ${texto}` : texto;
      };
    });
  </script>
</head>
<body>
  <!-- 👋 Tela de boas-vindas -->
  <div id="boas-vindas">
    <h2>Bem-vindo ao HIITGO 💪</h2>
    <p>Digite seu nome para começar:</p>
    <input type="text" id="nome-usuario" placeholder="Seu nome" />
    <button id="entrar-app">Entrar</button>
  </div>

  <h1>HIITGO 💪</h1>

  <button id="toggle-tema">
    <span class="material-symbols-outlined" id="icone-tema">dark_mode</span>
    Alternar Modo Escuro
  </button>

  <div class="tabs">
    <button class="tab-button active" data-tab="padrao">Treino Padrão</button>
    <button class="tab-button" data-tab="personalizado">Personalizado</button>
    <button class="tab-button" data-tab="hiit">HIIT Intervalado</button>
  </div>

  <!-- Aba: Treino Padrão -->
  <div id="padrao" class="tab-content active">
    <div id="treino">
      <h2 class="exercicio">Clique em "Iniciar"</h2>
      <p class="cronometro">00:00</p>
      <p class="progresso"></p>
      <button onclick="iniciarTreino()">Iniciar Treino Padrão</button>
      <button onclick="pausarTreino()">Pausar</button>
      <button onclick="reiniciarTreino()">Reiniciar</button>
    </div>
    <div id="barra-progresso" class="barra-progresso"></div>
  </div>

  <!-- Aba: Treino Personalizado -->
  <div id="personalizado" class="tab-content">
    <h2 class="exercicio">Clique em "Iniciar"</h2>
    <p class="cronometro">00:00</p>
    <p class="progresso"></p>
    <div id="barra-progresso-personalizado" class="barra-progresso"></div>

    <h2>Monte seu treino personalizado</h2>
    <form id="form-treino">
      <label for="nome-exercicio">Exercício:</label>
      <input type="text" id="nome-exercicio" required>
      <label for="tempo-exercicio">Tempo (segundos):</label>
      <input type="number" id="tempo-exercicio" required>
      <button type="button" onclick="adicionarExercicio()">Adicionar</button>
    </form>
    <ul id="lista-personalizada"></ul>
    <button onclick="iniciarTreinoPersonalizado()">Iniciar Treino Personalizado</button>
  </div>

  <!-- Aba: Treino Intervalado HIIT -->
  <div id="hiit" class="tab-content">
    <h2 class="exercicio">Clique em "Iniciar"</h2>
    <p class="cronometro">00:00</p>
    <p class="progresso"></p>
    <div id="barra-progresso-hiit" class="barra-progresso"></div>

    <h2>Treino Intervalado HIIT</h2>
    <label for="tempo-tiro">Tempo do tiro (segundos):</label>
    <input type="number" id="tempo-tiro" required>
    <label for="tempo-descanso">Tempo de descanso (segundos):</label>
    <input type="number" id="tempo-descanso" required>
    <label for="quantidade-ciclos">Quantidade de ciclos:</label>
    <input type="number" id="quantidade-ciclos" required>
    <button onclick="iniciarTreinoIntervalado()">Iniciar Treino Intervalado</button>
  </div>

  <!-- Tela final -->
  <div id="final-treino" style="display: none;">
    <h2 class="exercicio">🏁 Parabéns, treino concluído!</h2>
    <p>Você mandou bem! 💪</p>
    <button onclick="reiniciarTreino()">Novo Treino</button>
  </div>

  <audio id="galo-audio" src="galo.mp3" preload="auto"></audio>

  <!-- Importa o script principal -->
  <script src="script.js"></script>
</body>
</html>
